<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Molecula.Workflows.Designer.Controls"
    xmlns:nodes="clr-namespace:Molecula.Workflows.Designer.Nodes">

    <ControlTemplate x:Key="DesignerNodeControlTemplate" TargetType="controls:DesignerNodeControl">
        <Border>
            <ContentPresenter Content="{TemplateBinding Content}" />
        </Border>
    </ControlTemplate>

    <Style TargetType="controls:DesignerNodeControl">
        <Setter Property="Template" Value="{StaticResource DesignerNodeControlTemplate}" />
        <Setter Property="IsHitTestVisible" Value="True" />
        <Setter Property="InputScope" Value="" />
    </Style>

    <DataTemplate DataType="{x:Type nodes:DesignerNode}">
        <controls:DesignerNodeControl
            Command="{Binding DataContext.CurrentWorkspace.AddNodeCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type controls:WorkflowItemToolboxContainerControl}}}"
            CommandParameter="{Binding NodeType}"
            NodeType="{Binding NodeType}" />
    </DataTemplate>

</ResourceDictionary>